<body class="body__registro">
  <form [formGroup]="form" (ngSubmit)="onEnviar($event)">
    <div class="container">
      <div class="container__title">Registro de usuario</div>
      <div class="content">
        <div class="user-details">
          <div class="input-box">
            <label class="label__registro" for="nombre" >Nombre:</label>
            <input class="input__registro" type="text" id="nombre" name="nombre" formControlName="names" class="form-control">
            @if (Names?.errors && Names?.touched) {
              @if (Names?.hasError("required")) {
                <p class="text-danger">
                  El nombre es requerido.
                </p>
              }
            }
          </div>
          <div class="input-box">
            <label class="label__registro" for="apellido">Apellido:</label>
            <input class="input__registro" type="text" id="apellido" name="apellido" class="form-control" formControlName="lastName" >
            @if (Lastname?.errors && Lastname?.touched) {
              @if (Lastname?.hasError("required")) {
                <p class="text-danger">
                  El apellido es requerido.
                </p>
              }
            }
          </div>
          <div class="input-box">
            <label class="label__registro" for="tipo-dni">Tipo de DNI:</label>
            <select id="tipo-dni" name="tipo-dni" class="form-control" formControlName="tipodni">
              <option value="">Seleccione un tipo de DNI</option>
              <option value="DNI">DNI</option>
              <option value="CUIL/CUIT">CUIL/CUIT</option>
            </select>
          </div>
          <div class="input-box">
            <label class="label__registro" for="dni">Número de DNI:</label>
            <input class="input__registro" type="number" id="dni" name="dni" class="form-control" formControlName="dni">
            @if (Dni?.errors && Dni?.touched) {
              @if (Dni?.hasError("required")) {
                <p class="text-danger">
                  El DNI es requerido.
                </p>
              }
              @else if (Dni?.hasError("pattern")) {
                <p class="text-danger">
                  El formato de DNI debe ser válido.
                </p>
              }
            }
          </div>
          <div class="input-box">
            <label class="label__registro" for="username">Nombre de Usuario:</label>
            <input class="input__registro" type="text" id="username" name="username" class="form-control" formControlName="username">
            @if (Username?.errors && Username?.touched){
              @if (Username?.hasError("required")) {
                <p class="text-danger">
                  El nombre de usuario es requerido.
                </p>
              }
              @else if (Username?.hasError("minlength")) {
                <p class="text-danger">
                  El nombre de usuario requiere un mínimo de 5 caracteres.
                </p>
              }
            }
          </div>
          <div class="input-box">
            <label class="label__registro" for="email">Correo Electrónico:</label>
            <input class="input__registro" type="email" id="email" name="email" formControlName="email" class="form-control">
            @if (Email?.errors && Email?.touched) {
              @if (Email?.hasError("required")) {
                <p class="text-danger">
                  El email es requerido
                </p>
              }
              @else if (Email?.hasError("email")) {
                <p class="text-danger">
                  El formato de email debe ser válido
                </p>
              }
            }
          </div>
          <div class="input-box">
            <label class="label__registro" for="contrasena">Contraseña:</label>
            <input class="input__registro" type="password" id="contrasena" name="contrasena" class="form-control"  formControlName="password">
            <small class="error-message" id="password-error"></small>
            @if (Password?.errors && Password?.touched) {
              @if (Password?.hasError("required")) {
                <p class="text-danger">
                  El Password es requerido.
                </p>
              }
              @else if (Password?.hasError("minlength")) {
                <p class="text-danger">
                  El Password requiere como mínimo 6 caracteres.
                </p>
              }
            }
          </div>
          <div class="input-box">
            <label class="label__registro" for="confirmar_contrasena">Confirmar Contraseña:</label>
            <input class="input__registro" type="password" id="confirmar_contrasena" name="confirmar_contrasena" class="form-control" formControlName="confirm_password">
            <small class="error-message" id="confirmar_contrasena-error"></small>
            @if (ConfirmPsw?.errors && ConfirmPsw?.touched) {
              @if (ConfirmPsw?.hasError("required")) {
                <p class="text-danger">
                  El campo es requerido.
                </p>
              }
            }
          </div>
        </div>
        <div class="button">
          <input class="input__registro" type="submit" value="Crear cuenta">
        </div>
      </div>
      <h2>¿Ya tienes una cuenta? <a [routerLink]="['/login']">Inicia sesión aquí!</a></h2>
    </div> 
  </form>
</body>